name: CI

on:
  push:
  pull_request:

permissions:
  contents: read

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: "3.10"
          cache: "pip"
          cache-dependency-path: requirements.txt

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: Smoke test imports
        run: |
          python - <<'PY'
          import biom
          import h5py
          import ipykernel
          import jupyter
          import matplotlib
          import nbconvert
          import nltk
          import numpy
          import pandas
          import scipy
          import seaborn
          import shap
          import sklearn
          import skbio
          import statsmodels
          import textblob
          import tqdm
          import umap
          import xgboost
          import joblib
          print("Dependencies imported successfully.")
          PY
